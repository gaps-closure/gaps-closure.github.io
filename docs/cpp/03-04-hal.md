## Interfacing with HAL {#hal}

The CLOSURE C++ toolchain's interface to the HAL daemon combines the approaches used in the CLOSURE C and Java toolchains.

With the CLOSURE C toolchain @CDoc, partitioned application programs use the xdcomms API library 
to interface with the HAL daemon which exchanges data through the GAPS Devices.

In the Java toolchain, there is no separate xdcomms API library, and the
interaction with the HAL daemon is handled by the code generated by the
CodeGenJava tool. AspectJ-woven applications interact with the HAL through 
a CLOSURE library class. Details of marshaling/unmarshalling, serialization/de-serialization, 
and read/write to HAL, are abstracted and hidden from the applications 

The C++ toolchain reuses the xdcomm API library to interface with the HAL daemon for data transport.
For object-oriented features, such as object instantiation and method calls, since there is no reflection in C++ and AspectJ compiler, tools used in the C toolchain needs to be modified and enhanced to automatically 
generate necessary code to work with C++ programs. This part is still in progress. 
In the meantime, Example2-specific code manually written to handle the HAL interface.







